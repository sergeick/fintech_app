README для Fintech App
Обзор проекта

Fintech App — это система на базе микросервисов, предназначенная для управления аутентификацией пользователей и финансовыми транзакциями с использованием Kafka в качестве платформы для обмена сообщениями. Система состоит из нескольких сервисов, таких как auth_service для аутентификации пользователей и transaction_service для обработки и логирования транзакций пользователей. Сервисы взаимодействуют через Kafka, а для мониторинга и управления топиками Kafka используются такие инструменты, как Kafdrop, Kafka Manager и AKHQ.
Структура проекта

Приложение разделено на два основных сервиса:

    auth_service: Управляет регистрацией, входом в систему и аутентификацией пользователей.
    transaction_service: Обрабатывает транзакции между пользователями и записывает их в Kafka.

Дополнительно, система включает инструменты для мониторинга Kafka, такие как Kafdrop, AKHQ и Kafka Manager.
Описание сервисов и компонентов
1. auth_service

    Назначение: Отвечает за аутентификацию и регистрацию пользователей.
    Технологии:
        Flask (веб-фреймворк)
        MongoDB (для хранения пользователей)
        Redis (для управления сессиями)
        JWT (для генерации токенов)
        Flasgger (для документации API через Swagger)
    HTML-страницы:
        /login_form.html — форма входа пользователя.
        /signup_form.html — форма регистрации пользователя.
        /protected_web.html — защищённая страница, доступная только после авторизации.
        /index.html — главная страница с навигацией по всем страницам.

2. transaction_service

    Назначение: Обрабатывает транзакции пользователей и отправляет их в Kafka.
    Технологии:
        Flask
        MongoDB (для хранения информации о транзакциях)
        Kafka (для обработки сообщений о транзакциях)
        Redis (управление сессиями)
        Flasgger (документация через Swagger)
    HTML-страницы:
        /login_transaction_form.html — форма для входа перед отправкой транзакций.
        /send_transaction.html — форма для отправки транзакций пользователем.

3. Kafdrop

    Назначение: Веб-интерфейс для просмотра и мониторинга топиков Kafka.
    Порт: 9000
    Как используется: Позволяет визуализировать данные топиков, такие как транзакции, а также управлять темами и группами потребителей Kafka.

4. Kafka Manager

    Назначение: Инструмент управления для Kafka, предоставляет возможности для управления кластерами, топиками и конфигурацией Kafka.
    Порт: 9001

5. AKHQ

    Назначение: Веб-интерфейс для администрирования и мониторинга Kafka.
    Порт: 8080
    Конфигурация: Использует файл application.yml, который монтируется в контейнер AKHQ.

Установка и настройка
Требования:

    Docker
    Docker Compose

Шаги для запуска:

    Клонируйте репозиторий:

    bash

git clone <repository-url>
cd fintech_app

Установите переменные окружения для секрета токенов и других ключей в файле .env:

bash

export SECRET_KEY=your_secret_key

Запустите проект с помощью Docker Compose:

bash

    docker-compose up

    Сервисы будут доступны на следующих портах:
        auth_service: http://localhost:5000
        transaction_service: http://localhost:5001
        Kafdrop: http://localhost:9000
        Kafka Manager: http://localhost:9001
        AKHQ: http://localhost:8080

Используемые библиотеки

    Flask: основной веб-фреймворк для построения микросервисов.
    MongoDB: база данных для хранения информации о пользователях и транзакциях.
    Redis: кеш и менеджер сессий.
    JWT (JSON Web Token): для генерации и проверки токенов авторизации.
    Kafka: система обмена сообщениями для обработки транзакций.
    Flasgger: для автоматической генерации документации Swagger.
    Werkzeug: для работы с паролями.
    WTForms: для обработки форм в веб-интерфейсе.

Структура файлов

    auth_service: содержит код и шаблоны для аутентификации пользователей.
        templates/ — содержит HTML-шаблоны для страниц регистрации, входа и защищённой страницы.
        main.py — основной файл для запуска сервиса аутентификации.
    transaction_service: код и шаблоны для управления транзакциями.
        templates/ — HTML-шаблоны для страниц, связанных с транзакциями.
        main.py — основной файл для запуска сервиса транзакций.
    docker-compose.yml: файл для запуска всех контейнеров (сервисов) проекта.
    application.yml: конфигурационный файл для AKHQ.

Как взаимодействуют сервисы

    Пользователь регистрируется через auth_service, вводя логин и пароль.
    После успешной регистрации пользователь входит в систему, получает JWT-токен, который сохраняется в сессии.
    Пользователь может отправить транзакцию через transaction_service, передавая токен для аутентификации.
    Транзакции отправляются в топик Kafka transactions.
    Kafka инструменты (Kafdrop, AKHQ) используются для мониторинга топиков и просмотра транзакций в реальном времени.